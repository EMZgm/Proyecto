{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Asus\\\\Downloads\\\\Practica_U2_Express_React\\\\frontend\\\\src\\\\ExpenseManager.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_URL = process.env.REACT_APP_API_URL;\nfunction ExpenseManager({\n  token,\n  onLogout\n}) {\n  _s();\n  const [view, setView] = useState('dashboard');\n  const [expenses, setExpenses] = useState([]);\n  const [incomes, setIncomes] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [expenseFields, setExpenseFields] = useState([]);\n  const [incomeFields, setIncomeFields] = useState([]);\n\n  // Estados de formularios (CREAR)\n  const [expenseForm, setExpenseForm] = useState({});\n  const [incomeForm, setIncomeForm] = useState({});\n\n  // === ESTADO PARA LA EDICI√ìN (NUEVO) ===\n  const [editingItem, setEditingItem] = useState(null); // El objeto que estamos editando\n  const [editForm, setEditForm] = useState({}); // Los datos del formulario de edici√≥n\n\n  // Configuraci√≥n\n  const [newFieldName, setNewFieldName] = useState('');\n  const [newCatName, setNewCatName] = useState('');\n\n  // Refs Drag & Drop\n  const dragItem = useRef();\n  const dragOverItem = useRef();\n  const authedFetch = (url, options = {}) => {\n    const headers = {\n      ...options.headers,\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`\n    };\n    return fetch(url, {\n      ...options,\n      headers\n    });\n  };\n  const loadData = () => {\n    authedFetch(`${API_URL}/expenses`).then(r => r.json()).then(setExpenses);\n    authedFetch(`${API_URL}/incomes`).then(r => r.json()).then(setIncomes);\n    authedFetch(`${API_URL}/categories`).then(r => r.json()).then(setCategories);\n    authedFetch(`${API_URL}/form-fields/expense`).then(r => r.json()).then(setExpenseFields);\n    authedFetch(`${API_URL}/form-fields/income`).then(r => r.json()).then(setIncomeFields);\n  };\n  useEffect(() => {\n    if (token) loadData();\n  }, [token]);\n\n  // === L√ìGICA DE REORDENAMIENTO (Drag & Drop) ===\n  const saveOrder = async items => {\n    const orderedIds = items.map(i => i.id);\n    await authedFetch(`${API_URL}/form-fields/reorder`, {\n      method: 'PUT',\n      body: JSON.stringify({\n        orderedIds\n      })\n    });\n  };\n  const handleSort = context => {\n    const isExpense = context === 'expense';\n    let _items = [...(isExpense ? expenseFields : incomeFields)];\n    const draggedItemContent = _items.splice(dragItem.current, 1)[0];\n    _items.splice(dragOverItem.current, 0, draggedItemContent);\n    dragItem.current = null;\n    dragOverItem.current = null;\n    if (isExpense) setExpenseFields(_items);else setIncomeFields(_items);\n    saveOrder(_items);\n  };\n  const moveItem = (index, direction, context) => {\n    const isExpense = context === 'expense';\n    let _items = [...(isExpense ? expenseFields : incomeFields)];\n    if (direction === -1 && index === 0) return;\n    if (direction === 1 && index === _items.length - 1) return;\n    const temp = _items[index];\n    _items[index] = _items[index + direction];\n    _items[index + direction] = temp;\n    if (isExpense) setExpenseFields(_items);else setIncomeFields(_items);\n    saveOrder(_items);\n  };\n  const onDragStart = (e, index) => {\n    dragItem.current = index;\n    e.target.classList.add('dragging-item');\n  };\n  const onDragEnter = (e, index) => {\n    dragOverItem.current = index;\n  };\n  const onDragEnd = (e, context) => {\n    e.target.classList.remove('dragging-item');\n    handleSort(context);\n  };\n\n  // ==========================================\n  // MANEJADORES DE DATOS (CRUD)\n  // ==========================================\n\n  // --- ABRIR MODAL DE EDICI√ìN ---\n  const openEditModal = (item, type) => {\n    // Aplanamos los datos: sacamos lo que est√° en 'custom_data' al nivel ra√≠z\n    // para que el formulario lo entienda f√°cilmente.\n    const flatData = {\n      ...item,\n      ...(item.custom_data || {})\n    };\n    setEditingItem({\n      ...flatData,\n      type\n    }); // Guardamos el tipo (expense/income) para saber a qu√© URL enviar\n    setEditForm(flatData); // Llenamos el formulario\n  };\n\n  // --- GUARDAR EDICI√ìN ---\n  const handleUpdate = async e => {\n    e.preventDefault();\n    if (!editingItem) return;\n    const url = editingItem.type === 'expense' ? `${API_URL}/expenses/${editingItem.id}` : `${API_URL}/incomes/${editingItem.id}`;\n    const res = await authedFetch(url, {\n      method: 'PUT',\n      body: JSON.stringify(editForm)\n    });\n    if (res.ok) {\n      setEditingItem(null); // Cerrar modal\n      loadData(); // Recargar lista\n    } else {\n      alert('Error al actualizar.');\n    }\n  };\n\n  // --- CREAR NUEVO ---\n  const handleCreateChange = (e, context) => {\n    const {\n      name,\n      value\n    } = e.target;\n    if (context === 'expense') setExpenseForm({\n      ...expenseForm,\n      [name]: value\n    });else setIncomeForm({\n      ...incomeForm,\n      [name]: value\n    });\n  };\n  const handleEditChange = e => {\n    setEditForm({\n      ...editForm,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleSubmit = async (e, context) => {\n    e.preventDefault();\n    const url = context === 'expense' ? `${API_URL}/expenses` : `${API_URL}/incomes`;\n    const body = context === 'expense' ? expenseForm : incomeForm;\n    const res = await authedFetch(url, {\n      method: 'POST',\n      body: JSON.stringify(body)\n    });\n    if (res.ok) {\n      context === 'expense' ? setExpenseForm({}) : setIncomeForm({});\n      loadData();\n    } else {\n      alert('Error al guardar.');\n    }\n  };\n  const handleDelete = async (type, id) => {\n    if (window.confirm('¬øBorrar elemento?')) {\n      await authedFetch(`${API_URL}/${type}/${id}`, {\n        method: 'DELETE'\n      });\n      loadData();\n    }\n  };\n\n  // --- CONFIGURACI√ìN ---\n  const handleAddField = async context => {\n    if (!newFieldName) return;\n    await authedFetch(`${API_URL}/form-fields`, {\n      method: 'POST',\n      body: JSON.stringify({\n        context,\n        label: newFieldName,\n        type: 'text'\n      })\n    });\n    setNewFieldName('');\n    loadData();\n  };\n  const handleDeleteField = async id => {\n    if (window.confirm('¬øOcultar/Eliminar campo?')) {\n      await authedFetch(`${API_URL}/form-fields/${id}`, {\n        method: 'DELETE'\n      });\n      loadData();\n    }\n  };\n  const handleAddCategory = async e => {\n    e.preventDefault();\n    if (!newCatName) return;\n    await authedFetch(`${API_URL}/categories`, {\n      method: 'POST',\n      body: JSON.stringify({\n        name: newCatName\n      })\n    });\n    setNewCatName('');\n    loadData();\n  };\n  const handleDeleteCategory = async id => {\n    if (window.confirm('¬øBorrar categor√≠a?')) {\n      await authedFetch(`${API_URL}/categories/${id}`, {\n        method: 'DELETE'\n      });\n      loadData();\n    }\n  };\n\n  // Helpers\n  const getFieldLabel = (key, context) => {\n    const fields = context === 'expense' ? expenseFields : incomeFields;\n    const found = fields.find(f => f.field_key === key);\n    return found ? found.label : key;\n  };\n  const allCats = [...new Set(['Varios', ...categories.map(c => c.name)])];\n  const totalInc = incomes.reduce((sum, i) => sum + parseFloat(i.amount), 0);\n  const totalExp = expenses.reduce((sum, e) => sum + parseFloat(e.amount), 0);\n\n  // RENDERIZADOR DE FORMULARIOS (Reutilizable para Crear y Editar)\n  const renderForm = (fields, context, state, handleChange) => /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: fields.map(field => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: field.label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 11\n      }, this), field.type === 'select' ? /*#__PURE__*/_jsxDEV(\"select\", {\n        name: field.field_key,\n        value: state[field.field_key] || '',\n        onChange: e => handleChange(e, context),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Seleccione...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 15\n        }, this), allCats.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: c,\n          children: c\n        }, c, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 33\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"input\", {\n        type: field.field_key === 'amount' ? 'number' : 'text',\n        step: field.field_key === 'amount' ? '0.01' : undefined,\n        name: field.field_key,\n        value: state[field.field_key] || '',\n        onChange: e => handleChange(e, context),\n        placeholder: field.label,\n        className: !field.is_core ? 'dynamic-input' : ''\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 13\n      }, this)]\n    }, field.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 9\n    }, this))\n  }, void 0, false);\n\n  // === RENDERIZADOR DE ITEMS EN LISTA (Dise√±o Limpio) ===\n  const renderItemContent = (item, type) => {\n    // Juntamos todos los datos en un solo objeto para iterar\n    const allData = {\n      ...item,\n      ...item.custom_data\n    };\n\n    // Obtenemos los campos configurados para saber el orden correcto\n    const fieldsConfig = type === 'expense' ? expenseFields : incomeFields;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"item-details\",\n      children: fieldsConfig.map(field => {\n        const value = allData[field.field_key];\n        if (!value) return null; // Si no hay dato, no mostramos nada\n\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"field-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"field-label\",\n            children: [field.label, \":\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"field-value\",\n            children: value\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 15\n          }, this)]\n        }, field.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }, this);\n  };\n\n  // === VISTA: CONFIGURACI√ìN ===\n  if (view.startsWith('settings_')) {\n    const isExpense = view === 'settings_expense';\n    const context = isExpense ? 'expense' : 'income';\n    const fields = isExpense ? expenseFields : incomeFields;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content settings-view\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"settings-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setView('dashboard'),\n          className: \"back-btn\",\n          children: \"\\u2B05 Volver\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"\\u2699\\uFE0F Configuraci\\xF3n \", isExpense ? 'Gastos' : 'Ingresos']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"settings-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"settings-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Orden de Campos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"sortable-list\",\n            children: fields.map((f, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n              draggable: true,\n              onDragStart: e => onDragStart(e, index),\n              onDragEnter: e => dragOverItem.current = index,\n              onDragEnd: e => onDragEnd(e, context),\n              onDragOver: e => e.preventDefault(),\n              className: \"draggable-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"drag-handle\",\n                children: \"\\u2630\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"field-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: f.label\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 47\n                }, this), f.is_core && /*#__PURE__*/_jsxDEV(\"small\", {\n                  children: \"(Default)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 87\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"field-actions\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"arrow-controls\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => moveItem(index, -1, context),\n                    disabled: index === 0,\n                    children: \"\\u25B2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 243,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => moveItem(index, 1, context),\n                    disabled: index === fields.length - 1,\n                    children: \"\\u25BC\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 244,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 21\n                }, this), f.field_key !== 'amount' ? /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleDeleteField(f.id),\n                  className: \"delete-btn\",\n                  children: \"\\xD7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 49\n                }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    opacity: 0.3,\n                    padding: '0 10px'\n                  },\n                  children: \"\\uD83D\\uDD12\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 139\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 19\n              }, this)]\n            }, f.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mini-form\",\n            style: {\n              marginTop: 20\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              value: newFieldName,\n              onChange: e => setNewFieldName(e.target.value),\n              placeholder: \"Nuevo Campo...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleAddField(context),\n              children: \"+\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this), isExpense && fields.find(f => f.field_key === 'category') && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"settings-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Categor\\xEDas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: categories.map(c => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [c.name, \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleDeleteCategory(c.id),\n                className: \"delete-btn\",\n                children: \"\\xD7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 64\n              }, this)]\n            }, c.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 40\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleAddCategory,\n            className: \"mini-form\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              value: newCatName,\n              onChange: e => setNewCatName(e.target.value),\n              placeholder: \"Nueva...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 72\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              children: \"+\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 169\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 7\n    }, this);\n  }\n\n  // === VISTA: DASHBOARD ===\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Mi Gestor \\uD83D\\uDCB8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onLogout,\n        className: \"logout-btn\",\n        children: \"Salir\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"balance-bar\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"balance-card income\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Ingresos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 46\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"+$\", totalInc.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 67\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"balance-card expense\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Gastos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 47\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"-$\", totalExp.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 66\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"balance-card balance\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Balance\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 47\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: totalInc - totalExp >= 0 ? '#27ae60' : '#c0392b'\n          },\n          children: [\"$\", (totalInc - totalExp).toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 67\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"forms-column\",\n        children: [/*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: e => handleSubmit(e, 'income'),\n          className: \"income-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"A\\xF1adir Ingreso\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 42\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"gear-btn\",\n              onClick: () => setView('settings_income'),\n              children: \"\\u2699\\uFE0F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 65\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 13\n          }, this), renderForm(incomeFields, 'income', incomeForm, handleCreateChange), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Guardar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: e => handleSubmit(e, 'expense'),\n          className: \"expense-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Nuevo Gasto\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 42\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"gear-btn\",\n              onClick: () => setView('settings_expense'),\n              children: \"\\u2699\\uFE0F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 62\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 13\n          }, this), renderForm(expenseFields, 'expense', expenseForm, handleCreateChange), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Guardar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lists-column\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"income-list\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Ingresos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 13\n          }, this), incomes.map(inc => /*#__PURE__*/_jsxDEV(\"article\", {\n            className: \"income-card\",\n            children: [renderItemContent(inc, 'income'), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => openEditModal(inc, 'income'),\n                className: \"edit-btn\",\n                children: \"\\u270F\\uFE0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleDelete('incomes', inc.id),\n                className: \"delete-btn\",\n                children: \"\\xD7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 17\n            }, this)]\n          }, inc.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"expense-list\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Gastos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 13\n          }, this), expenses.map(exp => /*#__PURE__*/_jsxDEV(\"article\", {\n            className: \"expense-card\",\n            children: [renderItemContent(exp, 'expense'), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => openEditModal(exp, 'expense'),\n                className: \"edit-btn\",\n                children: \"\\u270F\\uFE0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleDelete('expenses', exp.id),\n                className: \"delete-btn\",\n                children: \"\\xD7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 17\n            }, this)]\n          }, exp.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 7\n    }, this), editingItem && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Editar \", editingItem.type === 'expense' ? 'Gasto' : 'Ingreso']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleUpdate,\n          children: [renderForm(editingItem.type === 'expense' ? expenseFields : incomeFields, editingItem.type, editForm, handleEditChange), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-buttons\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => setEditingItem(null),\n              className: \"cancel-btn\",\n              children: \"Cancelar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"save-btn\",\n              children: \"Guardar Cambios\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n_s(ExpenseManager, \"EB9gvfnH8zTf1QhLDL6JdIwlL2A=\");\n_c = ExpenseManager;\nexport default ExpenseManager;\nvar _c;\n$RefreshReg$(_c, \"ExpenseManager\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","Fragment","_Fragment","API_URL","process","env","REACT_APP_API_URL","ExpenseManager","token","onLogout","_s","view","setView","expenses","setExpenses","incomes","setIncomes","categories","setCategories","expenseFields","setExpenseFields","incomeFields","setIncomeFields","expenseForm","setExpenseForm","incomeForm","setIncomeForm","editingItem","setEditingItem","editForm","setEditForm","newFieldName","setNewFieldName","newCatName","setNewCatName","dragItem","dragOverItem","authedFetch","url","options","headers","fetch","loadData","then","r","json","saveOrder","items","orderedIds","map","i","id","method","body","JSON","stringify","handleSort","context","isExpense","_items","draggedItemContent","splice","current","moveItem","index","direction","length","temp","onDragStart","e","target","classList","add","onDragEnter","onDragEnd","remove","openEditModal","item","type","flatData","custom_data","handleUpdate","preventDefault","res","ok","alert","handleCreateChange","name","value","handleEditChange","handleSubmit","handleDelete","window","confirm","handleAddField","label","handleDeleteField","handleAddCategory","handleDeleteCategory","getFieldLabel","key","fields","found","find","f","field_key","allCats","Set","c","totalInc","reduce","sum","parseFloat","amount","totalExp","renderForm","state","handleChange","children","field","className","fileName","_jsxFileName","lineNumber","columnNumber","onChange","step","undefined","placeholder","is_core","renderItemContent","allData","fieldsConfig","startsWith","onClick","draggable","onDragOver","disabled","style","opacity","padding","marginTop","onSubmit","toFixed","color","inc","exp","_c","$RefreshReg$"],"sources":["C:/Users/Asus/Downloads/Practica_U2_Express_React/frontend/src/ExpenseManager.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL;\r\n\r\nfunction ExpenseManager({ token, onLogout }) {\r\n  const [view, setView] = useState('dashboard');\r\n  \r\n  const [expenses, setExpenses] = useState([]);\r\n  const [incomes, setIncomes] = useState([]);\r\n  const [categories, setCategories] = useState([]);\r\n  \r\n  const [expenseFields, setExpenseFields] = useState([]);\r\n  const [incomeFields, setIncomeFields] = useState([]);\r\n\r\n  // Estados de formularios (CREAR)\r\n  const [expenseForm, setExpenseForm] = useState({});\r\n  const [incomeForm, setIncomeForm] = useState({});\r\n\r\n  // === ESTADO PARA LA EDICI√ìN (NUEVO) ===\r\n  const [editingItem, setEditingItem] = useState(null); // El objeto que estamos editando\r\n  const [editForm, setEditForm] = useState({}); // Los datos del formulario de edici√≥n\r\n\r\n  // Configuraci√≥n\r\n  const [newFieldName, setNewFieldName] = useState('');\r\n  const [newCatName, setNewCatName] = useState('');\r\n\r\n  // Refs Drag & Drop\r\n  const dragItem = useRef();\r\n  const dragOverItem = useRef();\r\n\r\n  const authedFetch = (url, options = {}) => {\r\n    const headers = { ...options.headers, 'Content-Type': 'application/json', 'Authorization': `Bearer ${token}` };\r\n    return fetch(url, { ...options, headers });\r\n  };\r\n\r\n  const loadData = () => {\r\n    authedFetch(`${API_URL}/expenses`).then(r => r.json()).then(setExpenses);\r\n    authedFetch(`${API_URL}/incomes`).then(r => r.json()).then(setIncomes);\r\n    authedFetch(`${API_URL}/categories`).then(r => r.json()).then(setCategories);\r\n    authedFetch(`${API_URL}/form-fields/expense`).then(r => r.json()).then(setExpenseFields);\r\n    authedFetch(`${API_URL}/form-fields/income`).then(r => r.json()).then(setIncomeFields);\r\n  };\r\n\r\n  useEffect(() => { if (token) loadData(); }, [token]);\r\n\r\n  // === L√ìGICA DE REORDENAMIENTO (Drag & Drop) ===\r\n  const saveOrder = async (items) => {\r\n    const orderedIds = items.map(i => i.id);\r\n    await authedFetch(`${API_URL}/form-fields/reorder`, { method: 'PUT', body: JSON.stringify({ orderedIds }) });\r\n  };\r\n\r\n  const handleSort = (context) => {\r\n    const isExpense = context === 'expense';\r\n    let _items = [...(isExpense ? expenseFields : incomeFields)];\r\n    const draggedItemContent = _items.splice(dragItem.current, 1)[0];\r\n    _items.splice(dragOverItem.current, 0, draggedItemContent);\r\n    dragItem.current = null; dragOverItem.current = null;\r\n    if (isExpense) setExpenseFields(_items); else setIncomeFields(_items);\r\n    saveOrder(_items);\r\n  };\r\n\r\n  const moveItem = (index, direction, context) => {\r\n    const isExpense = context === 'expense';\r\n    let _items = [...(isExpense ? expenseFields : incomeFields)];\r\n    if (direction === -1 && index === 0) return;\r\n    if (direction === 1 && index === _items.length - 1) return;\r\n    const temp = _items[index];\r\n    _items[index] = _items[index + direction];\r\n    _items[index + direction] = temp;\r\n    if (isExpense) setExpenseFields(_items); else setIncomeFields(_items);\r\n    saveOrder(_items);\r\n  };\r\n\r\n  const onDragStart = (e, index) => { dragItem.current = index; e.target.classList.add('dragging-item'); };\r\n  const onDragEnter = (e, index) => { dragOverItem.current = index; };\r\n  const onDragEnd = (e, context) => { e.target.classList.remove('dragging-item'); handleSort(context); };\r\n\r\n  // ==========================================\r\n  // MANEJADORES DE DATOS (CRUD)\r\n  // ==========================================\r\n\r\n  // --- ABRIR MODAL DE EDICI√ìN ---\r\n  const openEditModal = (item, type) => {\r\n    // Aplanamos los datos: sacamos lo que est√° en 'custom_data' al nivel ra√≠z\r\n    // para que el formulario lo entienda f√°cilmente.\r\n    const flatData = {\r\n      ...item,\r\n      ...(item.custom_data || {})\r\n    };\r\n    setEditingItem({ ...flatData, type }); // Guardamos el tipo (expense/income) para saber a qu√© URL enviar\r\n    setEditForm(flatData); // Llenamos el formulario\r\n  };\r\n\r\n  // --- GUARDAR EDICI√ìN ---\r\n  const handleUpdate = async (e) => {\r\n    e.preventDefault();\r\n    if (!editingItem) return;\r\n\r\n    const url = editingItem.type === 'expense' \r\n      ? `${API_URL}/expenses/${editingItem.id}` \r\n      : `${API_URL}/incomes/${editingItem.id}`;\r\n\r\n    const res = await authedFetch(url, { method: 'PUT', body: JSON.stringify(editForm) });\r\n    \r\n    if (res.ok) {\r\n      setEditingItem(null); // Cerrar modal\r\n      loadData(); // Recargar lista\r\n    } else {\r\n      alert('Error al actualizar.');\r\n    }\r\n  };\r\n\r\n  // --- CREAR NUEVO ---\r\n  const handleCreateChange = (e, context) => {\r\n    const { name, value } = e.target;\r\n    if (context === 'expense') setExpenseForm({ ...expenseForm, [name]: value });\r\n    else setIncomeForm({ ...incomeForm, [name]: value });\r\n  };\r\n\r\n  const handleEditChange = (e) => {\r\n    setEditForm({ ...editForm, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async (e, context) => {\r\n    e.preventDefault();\r\n    const url = context === 'expense' ? `${API_URL}/expenses` : `${API_URL}/incomes`;\r\n    const body = context === 'expense' ? expenseForm : incomeForm;\r\n    const res = await authedFetch(url, { method: 'POST', body: JSON.stringify(body) });\r\n    if (res.ok) {\r\n      context === 'expense' ? setExpenseForm({}) : setIncomeForm({});\r\n      loadData();\r\n    } else { alert('Error al guardar.'); }\r\n  };\r\n\r\n  const handleDelete = async (type, id) => {\r\n    if (window.confirm('¬øBorrar elemento?')) { await authedFetch(`${API_URL}/${type}/${id}`, { method: 'DELETE' }); loadData(); }\r\n  };\r\n\r\n  // --- CONFIGURACI√ìN ---\r\n  const handleAddField = async (context) => {\r\n    if (!newFieldName) return;\r\n    await authedFetch(`${API_URL}/form-fields`, { method: 'POST', body: JSON.stringify({ context, label: newFieldName, type: 'text' }) });\r\n    setNewFieldName(''); loadData();\r\n  };\r\n  const handleDeleteField = async (id) => {\r\n    if (window.confirm('¬øOcultar/Eliminar campo?')) { await authedFetch(`${API_URL}/form-fields/${id}`, { method: 'DELETE' }); loadData(); }\r\n  };\r\n  const handleAddCategory = async (e) => {\r\n    e.preventDefault();\r\n    if (!newCatName) return;\r\n    await authedFetch(`${API_URL}/categories`, { method: 'POST', body: JSON.stringify({ name: newCatName }) });\r\n    setNewCatName(''); loadData();\r\n  };\r\n  const handleDeleteCategory = async (id) => {\r\n    if (window.confirm('¬øBorrar categor√≠a?')) { await authedFetch(`${API_URL}/categories/${id}`, { method: 'DELETE' }); loadData(); }\r\n  };\r\n\r\n  // Helpers\r\n  const getFieldLabel = (key, context) => {\r\n    const fields = context === 'expense' ? expenseFields : incomeFields;\r\n    const found = fields.find(f => f.field_key === key);\r\n    return found ? found.label : key;\r\n  };\r\n  const allCats = [...new Set(['Varios', ...categories.map(c => c.name)])];\r\n  const totalInc = incomes.reduce((sum, i) => sum + parseFloat(i.amount), 0);\r\n  const totalExp = expenses.reduce((sum, e) => sum + parseFloat(e.amount), 0);\r\n\r\n  // RENDERIZADOR DE FORMULARIOS (Reutilizable para Crear y Editar)\r\n  const renderForm = (fields, context, state, handleChange) => (\r\n    <>\r\n      {fields.map(field => (\r\n        <div key={field.id} className=\"form-group\">\r\n          <label>{field.label}</label>\r\n          {field.type === 'select' ? (\r\n            <select name={field.field_key} value={state[field.field_key] || ''} onChange={(e) => handleChange(e, context)}>\r\n              <option value=\"\">Seleccione...</option>\r\n              {allCats.map(c => <option key={c} value={c}>{c}</option>)}\r\n            </select>\r\n          ) : (\r\n            <input\r\n              type={field.field_key === 'amount' ? 'number' : 'text'}\r\n              step={field.field_key === 'amount' ? '0.01' : undefined}\r\n              name={field.field_key}\r\n              value={state[field.field_key] || ''}\r\n              onChange={(e) => handleChange(e, context)}\r\n              placeholder={field.label}\r\n              className={!field.is_core ? 'dynamic-input' : ''}\r\n            />\r\n          )}\r\n        </div>\r\n      ))}\r\n    </>\r\n  );\r\n\r\n  // === RENDERIZADOR DE ITEMS EN LISTA (Dise√±o Limpio) ===\r\n  const renderItemContent = (item, type) => {\r\n    // Juntamos todos los datos en un solo objeto para iterar\r\n    const allData = { ...item, ...item.custom_data };\r\n    \r\n    // Obtenemos los campos configurados para saber el orden correcto\r\n    const fieldsConfig = type === 'expense' ? expenseFields : incomeFields;\r\n\r\n    return (\r\n      <div className=\"item-details\">\r\n        {/* Iteramos sobre la configuraci√≥n para respetar el orden del usuario */}\r\n        {fieldsConfig.map(field => {\r\n          const value = allData[field.field_key];\r\n          if (!value) return null; // Si no hay dato, no mostramos nada\r\n\r\n          return (\r\n            <div key={field.id} className=\"field-row\">\r\n              <span className=\"field-label\">{field.label}:</span>\r\n              <span className=\"field-value\">{value}</span>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // === VISTA: CONFIGURACI√ìN ===\r\n  if (view.startsWith('settings_')) {\r\n    const isExpense = view === 'settings_expense';\r\n    const context = isExpense ? 'expense' : 'income';\r\n    const fields = isExpense ? expenseFields : incomeFields;\r\n\r\n    return (\r\n      <div className=\"content settings-view\">\r\n        <header className=\"settings-header\">\r\n          <button onClick={() => setView('dashboard')} className=\"back-btn\">‚¨Ö Volver</button>\r\n          <h2>‚öôÔ∏è Configuraci√≥n {isExpense ? 'Gastos' : 'Ingresos'}</h2>\r\n        </header>\r\n        <div className=\"settings-grid\">\r\n          <div className=\"settings-card\">\r\n            <h3>Orden de Campos</h3>\r\n            <ul className=\"sortable-list\">\r\n              {fields.map((f, index) => (\r\n                <li key={f.id} draggable onDragStart={(e) => onDragStart(e, index)} onDragEnter={(e) => dragOverItem.current = index} onDragEnd={(e) => onDragEnd(e, context)} onDragOver={(e) => e.preventDefault()} className=\"draggable-item\">\r\n                  <div className=\"drag-handle\">‚ò∞</div>\r\n                  <div className=\"field-info\"><strong>{f.label}</strong>{f.is_core && <small>(Default)</small>}</div>\r\n                  <div className=\"field-actions\">\r\n                    <div className=\"arrow-controls\">\r\n                      <button onClick={() => moveItem(index, -1, context)} disabled={index===0}>‚ñ≤</button>\r\n                      <button onClick={() => moveItem(index, 1, context)} disabled={index===fields.length-1}>‚ñº</button>\r\n                    </div>\r\n                    {f.field_key !== 'amount' ? <button onClick={() => handleDeleteField(f.id)} className=\"delete-btn\">&times;</button> : <span style={{opacity:0.3, padding:'0 10px'}}>üîí</span>}\r\n                  </div>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n            <div className=\"mini-form\" style={{marginTop: 20}}>\r\n              <input value={newFieldName} onChange={e => setNewFieldName(e.target.value)} placeholder=\"Nuevo Campo...\" />\r\n              <button onClick={() => handleAddField(context)}>+</button>\r\n            </div>\r\n          </div>\r\n          {isExpense && fields.find(f => f.field_key === 'category') && (\r\n            <div className=\"settings-card\">\r\n              <h3>Categor√≠as</h3>\r\n              <ul>{categories.map(c => <li key={c.id}>{c.name} <button onClick={() => handleDeleteCategory(c.id)} className=\"delete-btn\">&times;</button></li>)}</ul>\r\n              <form onSubmit={handleAddCategory} className=\"mini-form\"><input value={newCatName} onChange={e => setNewCatName(e.target.value)} placeholder=\"Nueva...\" /><button type=\"submit\">+</button></form>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // === VISTA: DASHBOARD ===\r\n  return (\r\n    <>\r\n      <header>\r\n        <h1>Mi Gestor üí∏</h1>\r\n        <button onClick={onLogout} className=\"logout-btn\">Salir</button>\r\n      </header>\r\n      \r\n      <div className=\"balance-bar\">\r\n        <div className=\"balance-card income\"><span>Ingresos</span><span>+${totalInc.toFixed(2)}</span></div>\r\n        <div className=\"balance-card expense\"><span>Gastos</span><span>-${totalExp.toFixed(2)}</span></div>\r\n        <div className=\"balance-card balance\"><span>Balance</span><span style={{color:(totalInc - totalExp)>=0?'#27ae60':'#c0392b'}}>${(totalInc - totalExp).toFixed(2)}</span></div>\r\n      </div>\r\n\r\n      <div className=\"content\">\r\n        <div className=\"forms-column\">\r\n          <form onSubmit={(e) => handleSubmit(e, 'income')} className=\"income-form\">\r\n            <div className=\"form-header\"><h2>A√±adir Ingreso</h2><button type=\"button\" className=\"gear-btn\" onClick={() => setView('settings_income')}>‚öôÔ∏è</button></div>\r\n            {renderForm(incomeFields, 'income', incomeForm, handleCreateChange)}\r\n            <button type=\"submit\">Guardar</button>\r\n          </form>\r\n          <form onSubmit={(e) => handleSubmit(e, 'expense')} className=\"expense-form\">\r\n            <div className=\"form-header\"><h2>Nuevo Gasto</h2><button type=\"button\" className=\"gear-btn\" onClick={() => setView('settings_expense')}>‚öôÔ∏è</button></div>\r\n            {renderForm(expenseFields, 'expense', expenseForm, handleCreateChange)}\r\n            <button type=\"submit\">Guardar</button>\r\n          </form>\r\n        </div>\r\n\r\n        <div className=\"lists-column\">\r\n          <div className=\"income-list\">\r\n            <h3>Ingresos</h3>\r\n            {incomes.map(inc => (\r\n              <article key={inc.id} className=\"income-card\">\r\n                {renderItemContent(inc, 'income')}\r\n                <div className=\"card-actions\">\r\n                  <button onClick={() => openEditModal(inc, 'income')} className=\"edit-btn\">‚úèÔ∏è</button>\r\n                  <button onClick={() => handleDelete('incomes', inc.id)} className=\"delete-btn\">&times;</button>\r\n                </div>\r\n              </article>\r\n            ))}\r\n          </div>\r\n          <div className=\"expense-list\">\r\n            <h3>Gastos</h3>\r\n            {expenses.map(exp => (\r\n              <article key={exp.id} className=\"expense-card\">\r\n                {renderItemContent(exp, 'expense')}\r\n                <div className=\"card-actions\">\r\n                  <button onClick={() => openEditModal(exp, 'expense')} className=\"edit-btn\">‚úèÔ∏è</button>\r\n                  <button onClick={() => handleDelete('expenses', exp.id)} className=\"delete-btn\">&times;</button>\r\n                </div>\r\n              </article>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* === MODAL DE EDICI√ìN === */}\r\n      {editingItem && (\r\n        <div className=\"modal-overlay\">\r\n          <div className=\"modal-content\">\r\n            <h2>Editar {editingItem.type === 'expense' ? 'Gasto' : 'Ingreso'}</h2>\r\n            <form onSubmit={handleUpdate}>\r\n              {renderForm(\r\n                editingItem.type === 'expense' ? expenseFields : incomeFields, \r\n                editingItem.type, \r\n                editForm, \r\n                handleEditChange\r\n              )}\r\n              <div className=\"modal-buttons\">\r\n                <button type=\"button\" onClick={() => setEditingItem(null)} className=\"cancel-btn\">Cancelar</button>\r\n                <button type=\"submit\" className=\"save-btn\">Guardar Cambios</button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ExpenseManager;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}